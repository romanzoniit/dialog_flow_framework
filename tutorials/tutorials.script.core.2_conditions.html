

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
    <link href="../_static/images/logo-dff.svg" rel="icon" type="image/svg+xml">
    <title>Core: 2. Conditions &#8212; DFF 0.3.2 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/katex-math.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/katex.min.js"></script>
    <script src="../_static/auto-render.min.js"></script>
    <script src="../_static/katex_autorenderer.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorials/tutorials.script.core.2_conditions';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Core: 3. Responses" href="tutorials.script.core.3_responses.html" />
    <link rel="prev" title="Core: 1. Basics" href="tutorials.script.core.1_basics.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">DFF 0.3.2 documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../get_started.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../examples.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../tutorials.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../community.html">
                        Community
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../about_us.html">
                        About us
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://forum.deeppavlov.ai" title="DeepPavlov Forum" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/images/logo-deeppavlov.svg" class="icon-link-image" alt="DeepPavlov Forum"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://t.me/DeepPavlovDreamDiscussions" title="Telegram" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-telegram"></i></span>
            <label class="sr-only">Telegram</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/deeppavlov/dialog_flow_framework" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../get_started.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../examples.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../tutorials.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../community.html">
                        Community
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../about_us.html">
                        About us
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://forum.deeppavlov.ai" title="DeepPavlov Forum" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/images/logo-deeppavlov.svg" class="icon-link-image" alt="DeepPavlov Forum"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://t.me/DeepPavlovDreamDiscussions" title="Telegram" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-telegram"></i></span>
            <label class="sr-only">Telegram</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/deeppavlov/dialog_flow_framework" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="index_context_storages.html">Context Storages</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials.context_storages.1_basics.html">1. Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.context_storages.2_postgresql.html">2. PostgreSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.context_storages.3_mongodb.html">3. MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.context_storages.4_redis.html">4. Redis</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.context_storages.5_mysql.html">5. MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.context_storages.6_sqlite.html">6. SQLite</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.context_storages.7_yandex_database.html">7. Yandex DataBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.context_storages.8_json_storage_with_web_api.html">8. JSON storage with web API</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="index_messengers.html">Messengers</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials.messengers.telegram.1_basic.html">Telegram: 1. Basic</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.messengers.telegram.2_buttons.html">Telegram: 2. Buttons</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.messengers.telegram.3_buttons_with_callback.html">Telegram: 3. Buttons with Callback</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.messengers.telegram.4_conditions.html">Telegram: 4. Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.messengers.telegram.5_conditions_with_media.html">Telegram: 5. Conditions with Media</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.messengers.telegram.6_conditions_extras.html">Telegram: 6. Conditions Extras</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.messengers.telegram.7_polling_setup.html">Telegram: 7. Polling Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.messengers.telegram.8_webhook_setup.html">Telegram: 8. Webhook Setup</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="index_pipeline.html">Pipeline</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.1_basics.html">1. Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.2_pre_and_post_processors.html">2. Pre- and postprocessors</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.3_pipeline_dict_with_services_full.html">3. Pipeline dict with services (full)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.3_pipeline_dict_with_services_basic.html">3. Pipeline dict with services (basic)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.4_groups_and_conditions_full.html">4. Groups and conditions (full)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.4_groups_and_conditions_basic.html">4. Groups and conditions (basic)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.5_asynchronous_groups_and_services_basic.html">5. Asynchronous groups and services (basic)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.5_asynchronous_groups_and_services_full.html">5. Asynchronous groups and services (full)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.6_custom_messenger_interface.html">6. Custom messenger interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.7_extra_handlers_basic.html">7. Extra Handlers (basic)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.7_extra_handlers_full.html">7. Extra Handlers (basic)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.pipeline.8_extra_handlers_and_extensions.html">8. Extra Handlers and Extensions</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index_script.html">Script</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.core.1_basics.html">Core: 1. Basics</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Core: 2. Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.core.3_responses.html">Core: 3. Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.core.4_transitions.html">Core: 4. Transitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.core.5_global_transitions.html">Core: 5. Global transitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.core.6_context_serialization.html">Core: 6. Context serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.core.7_pre_response_processing.html">Core: 7. Pre-response processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.core.8_misc.html">Core: 8. Misc</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.core.9_pre_transitions_processing.html">Core: 9. Pre-transitions processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.responses.1_basics.html">Responses: 1. Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.responses.2_buttons.html">Responses: 2. Buttons</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.responses.3_media.html">Responses: 3. Media</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.script.responses.4_multi_message.html">Responses: 4. Multi Message</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="index_utils.html">Utils</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials.utils.1_cache.html">1. Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.utils.2_lru_cache.html">2. LRU Cache</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../tutorials.html" class="nav-link">Tutorials</a></li>
    
    
    <li class="breadcrumb-item"><a href="index_script.html" class="nav-link">Script</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Core: 2. Conditions</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="Core:-2.-Conditions">
<h1>Core: 2. Conditions<a class="headerlink" href="#Core:-2.-Conditions" title="Permalink to this heading">#</a></h1>
<p>This tutorial shows different options for setting transition conditions from one node to another. First of all, let’s do all the necessary imports from DFF.</p>
<p><strong>Installing dependencies</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-q<span class="w"> </span>dff<span class="o">[</span>tutorials<span class="o">]</span>
<span class="c1"># Installs dff with dependencies for running tutorials</span>
<span class="c1"># To install the minimal version of dff, use `pip install dff`</span>
<span class="c1"># To install other options of dff, use `pip install dff[OPTION_NAME1,OPTION_NAME2]`</span>
<span class="c1"># where OPTION_NAME can be one of the options from EXTRA_DEPENDENCIES.</span>
<span class="c1"># e.g `pip install dff[ydb, mysql]` installs dff with dependencies for using Yandex Database and MySQL</span>
<span class="c1"># EXTRA_DEPENDENCIES can be found in</span>
<span class="c1"># https://github.com/deeppavlov/dialog_flow_framework/blob/dev/setup.py#L155</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-yellow-fg">WARNING: dff 0.3.2 does not provide the extra &#39;tutorials&#39;</span><span class="ansi-yellow-fg">
</span>
</pre></div></div>
</div>
<p><strong>Running tutorial</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">dff.script</span> <span class="kn">import</span> <span class="n">Context</span><span class="p">,</span> <span class="n">TRANSITIONS</span><span class="p">,</span> <span class="n">RESPONSE</span><span class="p">,</span> <span class="n">Message</span>
<span class="kn">import</span> <span class="nn">dff.script.conditions</span> <span class="k">as</span> <span class="nn">cnd</span>
<span class="kn">from</span> <span class="nn">dff.pipeline</span> <span class="kn">import</span> <span class="n">Pipeline</span>

<span class="kn">from</span> <span class="nn">dff.utils.testing.common</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">check_happy_path</span><span class="p">,</span>
    <span class="n">is_interactive_mode</span><span class="p">,</span>
    <span class="n">run_interactive_mode</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<p>The transition condition is set by the function. If this function returns the value <code class="docutils literal notranslate"><span class="pre">True</span></code>, then the actor performs the corresponding transition. Actor is responsible for processing user input and determining the appropriate response based on the current state of the conversation and the script. See tutorial 1 of pipeline (pipeline/1_basics) to learn more about Actor. Condition functions have signature</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def func(ctx: Context, pipeline: Pipeline, *args, **kwargs) -&gt; bool
</pre></div>
</div>
<p>Out of the box <code class="docutils literal notranslate"><span class="pre">dff.script.conditions</span></code> offers the following options for setting conditions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">exact_match</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the user’s request completely matches the value passed to the function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regexp</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the pattern matches the user’s request, while the user’s request must be a string. <code class="docutils literal notranslate"><span class="pre">regexp</span></code> has same signature as <code class="docutils literal notranslate"><span class="pre">re.compile</span></code> function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregate</span></code> returns <code class="docutils literal notranslate"><span class="pre">bool</span></code> value as a result after aggregate by <code class="docutils literal notranslate"><span class="pre">aggregate_func</span></code> for input sequence of conditions. <code class="docutils literal notranslate"><span class="pre">aggregate_func</span> <span class="pre">==</span> <span class="pre">any</span></code> by default. <code class="docutils literal notranslate"><span class="pre">aggregate</span></code> has alias <code class="docutils literal notranslate"><span class="pre">agg</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">any</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if one element of input sequence of conditions is <code class="docutils literal notranslate"><span class="pre">True</span></code>. <code class="docutils literal notranslate"><span class="pre">any(input_sequence)</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">aggregate(input</span> <span class="pre">sequence,</span> <span class="pre">aggregate_func=any)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">all</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if all elements of input sequence of conditions are <code class="docutils literal notranslate"><span class="pre">True</span></code>. <code class="docutils literal notranslate"><span class="pre">all(input_sequence)</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">aggregate(input</span> <span class="pre">sequence,</span> <span class="pre">aggregate_func=all)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">negation</span></code> returns negation of passed function. <code class="docutils literal notranslate"><span class="pre">negation</span></code> has alias <code class="docutils literal notranslate"><span class="pre">neg</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_last_labels</span></code> covered in the following examples.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">false</span></code> returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
<p>For example function</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def always_true_condition(ctx: Context, pipeline: Pipeline, *args, **kwargs) -&gt; bool:
    return True
</pre></div>
</div>
<p>always returns <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">always_true_condition</span></code> function is the same as <code class="docutils literal notranslate"><span class="pre">dff.script.conditions.std_conditions.true()</span></code>.</p>
<p>The functions to be used in the <code class="docutils literal notranslate"><span class="pre">toy_script</span></code> are declared here.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hi_lower_case_condition</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">Context</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">Pipeline</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">last_request</span>
    <span class="c1"># Returns True if `hi` in both uppercase and lowercase</span>
    <span class="c1"># letters is contained in the user request.</span>
    <span class="k">if</span> <span class="n">request</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">request</span><span class="o">.</span><span class="n">text</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="s2">&quot;hi&quot;</span> <span class="ow">in</span> <span class="n">request</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">complex_user_answer_condition</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">Context</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">Pipeline</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="n">request</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">last_request</span>
    <span class="c1"># The user request can be anything.</span>
    <span class="k">if</span> <span class="n">request</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">request</span><span class="o">.</span><span class="n">misc</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;some_key&quot;</span><span class="p">:</span> <span class="s2">&quot;some_value&quot;</span><span class="p">}</span> <span class="o">==</span> <span class="n">request</span><span class="o">.</span><span class="n">misc</span>


<span class="k">def</span> <span class="nf">predetermined_condition</span><span class="p">(</span><span class="n">condition</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
    <span class="c1"># Wrapper for internal condition function.</span>
    <span class="k">def</span> <span class="nf">internal_condition_function</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">Context</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">Pipeline</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="c1"># It always returns `condition`.</span>
        <span class="k">return</span> <span class="n">condition</span>

    <span class="k">return</span> <span class="n">internal_condition_function</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">toy_script</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;greeting_flow&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;start_node&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># This is the initial node,</span>
            <span class="c1"># it doesn&#39;t contain a `RESPONSE`.</span>
            <span class="n">RESPONSE</span><span class="p">:</span> <span class="n">Message</span><span class="p">(),</span>
            <span class="n">TRANSITIONS</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;node1&quot;</span><span class="p">:</span> <span class="n">cnd</span><span class="o">.</span><span class="n">exact_match</span><span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hi&quot;</span><span class="p">))},</span>
            <span class="c1"># If &quot;Hi&quot; == request of user then we make the transition</span>
        <span class="p">},</span>
        <span class="s2">&quot;node1&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">RESPONSE</span><span class="p">:</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hi, how are you?&quot;</span><span class="p">),</span>
            <span class="n">TRANSITIONS</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;node2&quot;</span><span class="p">:</span> <span class="n">cnd</span><span class="o">.</span><span class="n">regexp</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;.*how are you&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)},</span>
            <span class="c1"># pattern matching (precompiled)</span>
        <span class="p">},</span>
        <span class="s2">&quot;node2&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">RESPONSE</span><span class="p">:</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Good. What do you want to talk about?&quot;</span><span class="p">),</span>
            <span class="n">TRANSITIONS</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;node3&quot;</span><span class="p">:</span> <span class="n">cnd</span><span class="o">.</span><span class="n">all</span><span class="p">([</span><span class="n">cnd</span><span class="o">.</span><span class="n">regexp</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;talk&quot;</span><span class="p">),</span> <span class="n">cnd</span><span class="o">.</span><span class="n">regexp</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;about.*music&quot;</span><span class="p">)])},</span>
            <span class="c1"># Mix sequence of conditions by `cnd.all`.</span>
            <span class="c1"># `all` is alias `aggregate` with</span>
            <span class="c1"># `aggregate_func` == `all`.</span>
        <span class="p">},</span>
        <span class="s2">&quot;node3&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">RESPONSE</span><span class="p">:</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Sorry, I can not talk about music now.&quot;</span><span class="p">),</span>
            <span class="n">TRANSITIONS</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;node4&quot;</span><span class="p">:</span> <span class="n">cnd</span><span class="o">.</span><span class="n">regexp</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Ok, goodbye.&quot;</span><span class="p">))},</span>
            <span class="c1"># pattern matching by precompiled pattern</span>
        <span class="p">},</span>
        <span class="s2">&quot;node4&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">RESPONSE</span><span class="p">:</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;bye&quot;</span><span class="p">),</span>
            <span class="n">TRANSITIONS</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;node1&quot;</span><span class="p">:</span> <span class="n">cnd</span><span class="o">.</span><span class="n">any</span><span class="p">([</span><span class="n">hi_lower_case_condition</span><span class="p">,</span> <span class="n">cnd</span><span class="o">.</span><span class="n">exact_match</span><span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;hello&quot;</span><span class="p">))])</span>
            <span class="p">},</span>
            <span class="c1"># Mix sequence of conditions by `cnd.any`.</span>
            <span class="c1"># `any` is alias `aggregate` with</span>
            <span class="c1"># `aggregate_func` == `any`.</span>
        <span class="p">},</span>
        <span class="s2">&quot;fallback_node&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># We get to this node</span>
            <span class="c1"># if an error occurred while the agent was running.</span>
            <span class="n">RESPONSE</span><span class="p">:</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Ooops&quot;</span><span class="p">),</span>
            <span class="n">TRANSITIONS</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;node1&quot;</span><span class="p">:</span> <span class="n">complex_user_answer_condition</span><span class="p">,</span>
                <span class="c1"># The user request can be more than just a string.</span>
                <span class="c1"># First we will check returned value of</span>
                <span class="c1"># `complex_user_answer_condition`.</span>
                <span class="c1"># If the value is `True` then we will go to `node1`.</span>
                <span class="c1"># If the value is `False` then we will check a result of</span>
                <span class="c1"># `predetermined_condition(True)` for `fallback_node`.</span>
                <span class="s2">&quot;fallback_node&quot;</span><span class="p">:</span> <span class="n">predetermined_condition</span><span class="p">(</span><span class="kc">True</span><span class="p">),</span>  <span class="c1"># or you can use `cnd.true()`</span>
                <span class="c1"># Last condition function will return</span>
                <span class="c1"># `true` and will repeat `fallback_node`</span>
                <span class="c1"># if `complex_user_answer_condition` return `false`.</span>
            <span class="p">},</span>
        <span class="p">},</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># testing</span>
<span class="n">happy_path</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hi&quot;</span><span class="p">),</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hi, how are you?&quot;</span><span class="p">)),</span>  <span class="c1"># start_node -&gt; node1</span>
    <span class="p">(</span>
        <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;i&#39;m fine, how are you?&quot;</span><span class="p">),</span>
        <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Good. What do you want to talk about?&quot;</span><span class="p">),</span>
    <span class="p">),</span>  <span class="c1"># node1 -&gt; node2</span>
    <span class="p">(</span>
        <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Let&#39;s talk about music.&quot;</span><span class="p">),</span>
        <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Sorry, I can not talk about music now.&quot;</span><span class="p">),</span>
    <span class="p">),</span>  <span class="c1"># node2 -&gt; node3</span>
    <span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Ok, goodbye.&quot;</span><span class="p">),</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;bye&quot;</span><span class="p">)),</span>  <span class="c1"># node3 -&gt; node4</span>
    <span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hi&quot;</span><span class="p">),</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hi, how are you?&quot;</span><span class="p">)),</span>  <span class="c1"># node4 -&gt; node1</span>
    <span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;stop&quot;</span><span class="p">),</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Ooops&quot;</span><span class="p">)),</span>  <span class="c1"># node1 -&gt; fallback_node</span>
    <span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;one&quot;</span><span class="p">),</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Ooops&quot;</span><span class="p">)),</span>  <span class="c1"># fallback_node -&gt; fallback_node</span>
    <span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;help&quot;</span><span class="p">),</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Ooops&quot;</span><span class="p">)),</span>  <span class="c1"># fallback_node -&gt; fallback_node</span>
    <span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;nope&quot;</span><span class="p">),</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Ooops&quot;</span><span class="p">)),</span>  <span class="c1"># fallback_node -&gt; fallback_node</span>
    <span class="p">(</span>
        <span class="n">Message</span><span class="p">(</span><span class="n">misc</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;some_key&quot;</span><span class="p">:</span> <span class="s2">&quot;some_value&quot;</span><span class="p">}),</span>
        <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hi, how are you?&quot;</span><span class="p">),</span>
    <span class="p">),</span>  <span class="c1"># fallback_node -&gt; node1</span>
    <span class="p">(</span>
        <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;i&#39;m fine, how are you?&quot;</span><span class="p">),</span>
        <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Good. What do you want to talk about?&quot;</span><span class="p">),</span>
    <span class="p">),</span>  <span class="c1"># node1 -&gt; node2</span>
    <span class="p">(</span>
        <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Let&#39;s talk about music.&quot;</span><span class="p">),</span>
        <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Sorry, I can not talk about music now.&quot;</span><span class="p">),</span>
    <span class="p">),</span>  <span class="c1"># node2 -&gt; node3</span>
    <span class="p">(</span><span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Ok, goodbye.&quot;</span><span class="p">),</span> <span class="n">Message</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;bye&quot;</span><span class="p">)),</span>  <span class="c1"># node3 -&gt; node4</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="o">.</span><span class="n">from_script</span><span class="p">(</span>
    <span class="n">toy_script</span><span class="p">,</span>
    <span class="n">start_label</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;greeting_flow&quot;</span><span class="p">,</span> <span class="s2">&quot;start_node&quot;</span><span class="p">),</span>
    <span class="n">fallback_label</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;greeting_flow&quot;</span><span class="p">,</span> <span class="s2">&quot;fallback_node&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">check_happy_path</span><span class="p">(</span><span class="n">pipeline</span><span class="p">,</span> <span class="n">happy_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_interactive_mode</span><span class="p">():</span>
        <span class="n">run_interactive_mode</span><span class="p">(</span><span class="n">pipeline</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(user) &gt;&gt;&gt; text=&#39;Hi&#39;
 (bot) &lt;&lt;&lt; text=&#39;Hi, how are you?&#39;
(user) &gt;&gt;&gt; text=&#39;i&#39;m fine, how are you?&#39;
 (bot) &lt;&lt;&lt; text=&#39;Good. What do you want to talk about?&#39;
(user) &gt;&gt;&gt; text=&#39;Let&#39;s talk about music.&#39;
 (bot) &lt;&lt;&lt; text=&#39;Sorry, I can not talk about music now.&#39;
(user) &gt;&gt;&gt; text=&#39;Ok, goodbye.&#39;
 (bot) &lt;&lt;&lt; text=&#39;bye&#39;
(user) &gt;&gt;&gt; text=&#39;Hi&#39;
 (bot) &lt;&lt;&lt; text=&#39;Hi, how are you?&#39;
(user) &gt;&gt;&gt; text=&#39;stop&#39;
 (bot) &lt;&lt;&lt; text=&#39;Ooops&#39;
(user) &gt;&gt;&gt; text=&#39;one&#39;
 (bot) &lt;&lt;&lt; text=&#39;Ooops&#39;
(user) &gt;&gt;&gt; text=&#39;help&#39;
 (bot) &lt;&lt;&lt; text=&#39;Ooops&#39;
(user) &gt;&gt;&gt; text=&#39;nope&#39;
 (bot) &lt;&lt;&lt; text=&#39;Ooops&#39;
(user) &gt;&gt;&gt; misc=&#39;{&#39;some_key&#39;: &#39;some_value&#39;}&#39;
 (bot) &lt;&lt;&lt; text=&#39;Hi, how are you?&#39;
(user) &gt;&gt;&gt; text=&#39;i&#39;m fine, how are you?&#39;
 (bot) &lt;&lt;&lt; text=&#39;Good. What do you want to talk about?&#39;
(user) &gt;&gt;&gt; text=&#39;Let&#39;s talk about music.&#39;
 (bot) &lt;&lt;&lt; text=&#39;Sorry, I can not talk about music now.&#39;
(user) &gt;&gt;&gt; text=&#39;Ok, goodbye.&#39;
 (bot) &lt;&lt;&lt; text=&#39;bye&#39;
</pre></div></div>
</div>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="tutorials.script.core.1_basics.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Core: 1. Basics</p>
      </div>
    </a>
    <a class="right-next"
       href="tutorials.script.core.3_responses.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Core: 3. Responses</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
    
    
    

    <a href="https://colab.research.google.com/github/deeppavlov/dialog_flow_framework/blob/gh-pages/tutorials/tutorials.script.core.2_conditions.ipynb" data-behavior="call-to-action-event" data-response="Run in Google Colab" target="_blank">
        <div id="google-colab-link">
            <span class="pytorch-colab call-to-action-any"></span>
            <div class="call-to-action-desktop-view">Run in Google Colab</div>
            <div class="call-to-action-mobile-view">Colab</div>
        </div>
    </a>

    <a href="../tutorials/tutorials.script.core.2_conditions.ipynb" data-behavior="call-to-action-event" data-response="Download Notebook">
        <div id="download-notebook-link">
            <span class="pytorch-download call-to-action-any"></span>
            <div class="call-to-action-desktop-view">Download Notebook</div>
            <div class="call-to-action-mobile-view">Notebook</div>
        </div>
    </a>

    <a href="https://github.com/deeppavlov/dialog_flow_framework/blob/dev/tutorials/tutorials.script.core.2_conditions.py" data-behavior="call-to-action-event" data-response="View on Github" target="_blank">
        <div id="github-view-link">
            <span class="pytorch-github call-to-action-any"></span>
            <div class="call-to-action-desktop-view">View on GitHub</div>
            <div class="call-to-action-mobile-view">GitHub</div>
        </div>
    </a>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023, DeepPavlov.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>